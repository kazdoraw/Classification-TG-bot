# Next Steps

## ‚úÖ –≠—Ç–∞–ø 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–ó–ê–í–ï–†–®–ï–ù)

- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
- [x] requirements.txt
- [x] .env –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [x] README.md
- [x] Memory Bank –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –º–æ–¥—É–ª–∏ (config.py, utils.py)

---

## üî≤ –≠—Ç–∞–ø 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤

### 2.1 –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤

**–î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
1. –°–∫–∞—á–∞—Ç—å DRIVE —Å Kaggle:
   https://www.kaggle.com/datasets/andrewmvd/drive-digital-retinal-images-for-vessel-extraction
   ‚Üí —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ `data/raw/drive/`

2. –°–∫–∞—á–∞—Ç—å BCCD —Å Kaggle:
   https://www.kaggle.com/datasets/orvile/bccd-blood-cell-count-and-detection-dataset
   ‚Üí —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ `data/raw/bccd/`

3. –°–∫–∞—á–∞—Ç—å CIFAR-10 PNGs —Å Kaggle:
   https://www.kaggle.com/datasets/swaroopkml/cifar10-pngs-in-folders
   ‚Üí —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ `data/raw/cifar10/`

### 2.2 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ –ø–µ—Ä–≤–∏—á–Ω–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–§–∞–π–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:** `src/prepare_primary_dataset.py`

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- –ß—Ç–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ DRIVE (–∫–ª–∞—Å—Å retina)
- –ß—Ç–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ BCCD (–∫–ª–∞—Å—Å blood)
- –ß—Ç–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ CIFAR-10 (–∫–ª–∞—Å—Å scene)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ train/val (80/20)
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
  ```
  data/primary/train/{retina,blood,scene}
  data/primary/val/{retina,blood,scene}
  ```

---

## üî≤ –≠—Ç–∞–ø 3: –û–±—É—á–µ–Ω–∏–µ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞

### 3.1 Baseline CNN
**–§–∞–π–ª:** `src/train_primary_baseline_cnn.py`
- –ü—Ä–æ—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (3-4 conv –±–ª–æ–∫–∞)
- –û–±—É—á–µ–Ω–∏–µ —Å –Ω—É–ª—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ –º–µ—Ç—Ä–∏–∫

### 3.2 ResNet-18 (–û–°–ù–û–í–ù–ê–Ø)
**–§–∞–π–ª:** `src/train_primary_resnet18.py`
- Transfer learning
- –î–æ–æ–±—É—á–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–ª–æ—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª—É—á—à–µ–π –º–æ–¥–µ–ª–∏

### 3.3 Vision Transformer
**–§–∞–π–ª:** `src/train_primary_vit.py`
- Transfer learning
- –î–æ–æ–±—É—á–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–π –≥–æ–ª–æ–≤—ã
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

### 3.4 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
- Accuracy, F1-score
- Confusion matrix
- –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫
- –í—ã–±–æ—Ä —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏

---

## üî≤ –≠—Ç–∞–ø 4: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏

### 4.1 –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è —Å–µ—Ç—á–∞—Ç–∫–∏
**–§–∞–π–ª:** `src/train_retina_segmentation.py`
- U-Net –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –û–±—É—á–µ–Ω–∏–µ –Ω–∞ DRIVE
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

### 4.2 –î–µ—Ç–µ–∫—Ü–∏—è –∫–ª–µ—Ç–æ–∫ –∫—Ä–æ–≤–∏
**–§–∞–π–ª:** `src/train_blood_detector.py`
- YOLOv8n
- –î–æ–æ–±—É—á–µ–Ω–∏–µ –Ω–∞ BCCD
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

### 4.3 –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä CIFAR-10
**–§–∞–π–ª:** `src/train_cifar10_classifier.py`
- CNN –∏–ª–∏ ResNet-18
- –û–±—É—á–µ–Ω–∏–µ –Ω–∞ CIFAR-10
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

---

## üî≤ –≠—Ç–∞–ø 5: Inference –º–æ–¥—É–ª–∏

### 5.1 –ü–µ—Ä–≤–∏—á–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
**–§–∞–π–ª:** `src/inference_primary.py`
```python
def predict_image_type(image_path: str) -> tuple[str, float]:
    """Returns (class_name, confidence)"""
```

### 5.2 –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è
**–§–∞–π–ª:** `src/inference_segmentation.py`
```python
def segment_retina_image(image_path: str) -> str:
    """Returns path to segmented image"""
```

### 5.3 –î–µ—Ç–µ–∫—Ü–∏—è
**–§–∞–π–ª:** `src/inference_detection.py`
```python
def detect_blood_cells(image_path: str) -> tuple[str, dict]:
    """Returns (image_path, counts_dict)"""
```

### 5.4 CIFAR-10
**–§–∞–π–ª:** `src/inference_cifar10.py`
```python
def classify_scene(image_path: str) -> str:
    """Returns class_name"""
```

---

## üî≤ –≠—Ç–∞–ø 6: Telegram-–±–æ—Ç

**–§–∞–π–ª:** `src/bot.py`

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ (/start, /help)
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ç–æ
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:
  - retina ‚Üí segmentation
  - blood ‚Üí detection
  - scene ‚Üí cifar10
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üî≤ –≠—Ç–∞–ø 7: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ (3 —Å—Ü–µ–Ω–∞—Ä–∏—è)
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ PDF-–æ—Ç—á–µ—Ç–∞
- –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

---

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

**–ó–∞–≤–µ—Ä—à–µ–Ω–æ:** –≠—Ç–∞–ø 1 ‚úÖ  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –≠—Ç–∞–ø 2 - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤  
**–ü—Ä–æ–≥—Ä–µ—Å—Å:** ~15% –ø—Ä–æ–µ–∫—Ç–∞
